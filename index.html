<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title> Windows OS </title>
<link rel="stylesheet" href="style.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
        <div id="completeWrapper">
        <div id="login">
            <div class="backDD">
                <center>
                    <p id="p">Shlek Shah</p>
                        <p id="cookie"></p>
                    <input type="password" id="pass" placeholder="Enter password:" />
                </center>
            </div>
        </div>
        <style>
            .backDD {
                background: rgba(0, 0, 0, 0.5);
                color: white;
                width: 60%;
                margin-left: 20%;
                height: 40%;
                margin-top: 10%;
                padding: 10px;
                border-radius: 40px;
            }
            #p {
                font-size: 30pt;
            }
            #login {
                position: fixed;
                top: 0;
                bottom: 0;
                right: 0;
                left: 0;
/*                 background: url("https://cdn.wccftech.com/wp-content/uploads/2016/11/Abstract-Shapes.jpg"); */
                background-size: cover;
                z-index: 999;
                /* padding: 100px; */
                display: block;
            }
        </style>
<script>
var password = document.getElementById("pass");
var screen = document.getElementById("login");
var tb = document.getElementById('taskbar');
var passCode = "sproistotallyforthewin";

function checkCookies() {
    let cookies = document.cookie.split(';');
    let passwordIs = false;
    let passCodeFromCookie = '';

    for (let i = 0; i < cookies.length; i++) {
        let cookie = cookies[i].trim();
        if (cookie.startsWith("password=")) {
            passwordIs = true;
            passCodeFromCookie = cookie.substring("password=".length);
            break;
        }
    }

    if (!passwordIs) {
        setCookies();
        return false;
    }
    return passCodeFromCookie;
}

function setCookies() {
    document.getElementById("cookie").innerHTML = "Please set a password.";
    password.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            let savedPassword = password.value;
            let confirmation = confirm("Are you sure you want to save this password? " + savedPassword);
            if (confirmation) {
                document.cookie = `password=${savedPassword}; path=/;`;
                screen.style.display = "none";
                password.value = "";
                lockComplete();
            }
        }
    }); // Ensure the event listener runs only once
}

function lockComplete() {
    password.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            if (password.value === passCode || password.value === checkCookies()) {
                screen.style.display = "none";
                tb.style.display = "block";
            } else {
                document.getElementById("cookie").innerHTML = "Incorrect password. Please try again.";
                password.value = "";
            }
        }
    });
}

function lockOpen() {
    screen.style.display = "block";
    password.value = "";
}

let storedPass = checkCookies();
if (storedPass) {
    lockComplete();
}

        </script>
<script src="script.js"></script>
<div id="googleframe" class="window">
<div class="framehidden" id="googleframeheader">
    <span class="control-box">
    <button class="controls" onclick="toggleWindow('gwindow', 'googleframeheader')"> - </button>
    <button class="controls" onclick="fullscreen('googleframe')"> ‚ùê </button>
    <button class="controls" id="close" onclick="toggleWindow('gwindow', 'googleframeheader')"> X </button>
    </span>
</div>
<iframe src="https://www.google.com/search?igu=1" id = "gwindow" class="windowhidden"></iframe>
</div>
<!---Notepad-->
<div id="padframe" class="window">
<div class="framehidden" id="padframeheader">
    <span class="control-box">
        <button class="controls" onclick="toggleWindow('padwindow', 'padframeheader')"> - </button>
        <button class="controls" onclick="fullscreen('padframe')" disabled> ‚ùê </button>
        <button class="controls" id="close" onclick="toggleWindow('padwindow', 'padframeheader')"> X </button>
    </span>
</div>
<textarea id="padwindow" rows="45" cols="150" class="windowhidden"></textarea>
</div>
    <!---Settings--->
<div id="setframe" class="window">
<div class="framehidden" id="setframeheader">
        <span class="control-box">
        <button class="controls" onclick="toggleWindow('setwindow', 'setframeheader')"> - </button>
        <button class="controls" onclick="fullscreen('setframe')" disabled> ‚ùê </button>
        <button class="controls" id="close" onclick="toggleWindow('setwindow', 'setframeheader')"> X </button>
        </span>
</div>
<div id="setwindow" class="windowhidden">
    <h1>Windows OS Simulator by <a href="https://github.com/ssloke420">Shlok Shah</a></h1>
    <h3>Tips and tricks</h3>
    <p>Use the start icon to shut down the page. <br/>
        Use Chrome to browse the web. However, not all sites will work. <br/>
        Use Notepad to take notes. <br/>
        Terminal can be used to run commands. Can you find them all? <br/>
        And that's it! Any new updates will be posted here, so check regularly.
    </p>
</div>
</div>
<!--Terminal--->
<div id="tframe" class="window">
<div class="framehidden" id="tframeheader">
    <span class="control-box">
    <button class="controls" onclick="toggleWindow('twindow', 'tframeheader')"> - </button>
    <button class="controls" onclick="fullscreen('tframe')"> ‚ùê </button>
    <button class="controls" id="close" onclick="toggleWindow('twindow', 'tframeheader')"> X </button>
    </span>
</div>
<iframe src="terminal.html" id = "twindow" class="windowhidden"></iframe>
</div>
<div class="taskbar" id="taskbar">
    <img src="start.png" id="start"/>
    <input type="text" id="search" placeholder="üîçType here to search"/>
    <button onclick="toggleWindow('gwindow', 'googleframeheader')"> <img src="chrome.png"/> </button>
    <button onclick="toggleWindow('padwindow', 'padframeheader')"><img src="notepad.png"/></button>
    <button><img src="https://logodownload.org/wp-content/uploads/2022/07/microsoft-store-logo-1.png"/></button>
    <button><img src="https://vectorified.com/images/file-explorer-icon-windows-10-38.png"/></button>
    <button><img src="mail.png"/></button>
    <button onclick="toggleWindow('setwindow', 'setframeheader')"><img src="settings.png"/></button>
    <button onclick="toggleWindow('twindow', 'tframeheader')"><img src="https://icon-library.com/images/command-prompt-icon/command-prompt-icon-22.jpg"/></button>
</div>
<script src="drag.js"></script>
<script src="jquery.js"></script>
</body>
</html>
